-- Load UI Library
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/x2zu/OPEN-SOURCE-UI-ROBLOX/refs/heads/main/X2ZU%20UI%20ROBLOX%20OPEN%20SOURCE/DummyUi-leak-by-x2zu/fetching-main/Tools/Framework.luau"))()

-- Create Main Window
local Window = Library:Window({
    Title = "Auto Buy UI",
    Desc = "Spam Buy Items",
    Icon = 105059922903197,
    Theme = "Dark",
    Config = {
        Keybind = Enum.KeyCode.LeftControl,
        Size = UDim2.new(0, 400, 0, 250)
    },
    CloseUIButton = {Enabled = true, Text = "Close"}
})

-- Tab
local Tab = Window:Tab({Title = "Auto Buy", Icon = "star"})
Tab:Section({Title = "Settings"})

-- Remote Event
local buyEvent = game:GetService("ReplicatedStorage"):WaitForChild("BridgeNet2"):WaitForChild("dataRemoteEvent")

-- ตัวแปร
local autoBuy = false
local selectedItem = nil

-- Dropdown เลือกไอเท็ม
local shopItems = {
    "Meme Lucky Egg",
    "Secret Lucky Egg",
    "Godly Lucky Egg",
    "Speed Potion",
    "Damage Potion",
    "Lucky Potion",
    "Banana Gun",
    "Frost Grenade",
    "Carrot Launcher",
    "Water Bucket",
    "Frost Blower"
}
Tab:Dropdown({
    Title = "Select Item",
    List = shopItems,
    Value = "Water Bucket",
    Callback = function(v)
        selectedItem = v
        print("Selected Item:", selectedItem)
    end
})

-- Toggle Auto Buy
Tab:Toggle({
    Title = "Enable Auto Buy",
    Desc = "Spam buy selected item",
    Value = false,
    Callback = function(v)
        autoBuy = v
        print("Auto Buy:", autoBuy)
    end
})

-- Loop Auto Buy (ทุก 1 วิ)
task.spawn(function()
    while true do
        task.wait(1) -- รันทุก 1 วิ
        if autoBuy and selectedItem then
            local args = {
                {
                    selectedItem,
                    " "
                }
            }
            pcall(function()
                buyEvent:FireServer(unpack(args))
                print("Auto buying "..selectedItem)
            end)
        end
    end
end)

-- Notification
Window:Notify({
    Title = "Auto Buy",
    Desc = "UI Loaded! Select an item and toggle Auto Buy.",
    Time = 4
})
