-- Load UI Library
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/x2zu/OPEN-SOURCE-UI-ROBLOX/refs/heads/main/X2ZU%20UI%20ROBLOX%20OPEN%20SOURCE/DummyUi-leak-by-x2zu/fetching-main/Tools/Framework.luau"))()

-- Create Main Window
local Window = Library:Window({
    Title = "CHX Plant a Brainrot",
    Desc = "By ChristopFxx",
    Icon = 105059922903197,
    Theme = "Dark",
    Config = {
        Keybind = Enum.KeyCode.LeftControl,
        Size = UDim2.new(0, 400, 0, 250)
    },
    CloseUIButton = {Enabled = true, Text = "Closen"}
})

-- Tab
local Tab = Window:Tab({Title = "CHX Plant a Brainrot", Icon = "star"})
Tab:Section({Title = "Settings"})

-- Remote Event
local buyEvent = game:GetService("ReplicatedStorage"):WaitForChild("BridgeNet2"):WaitForChild("dataRemoteEvent")

-- ตัวแปรเก็บสถานะไอเท็มแต่ละตัว
local autoBuyItems = {}

-- รายการไอเท็ม
local shopItems = {
    "Meme Lucky Egg",
    "Secret Lucky Egg",
    "Godly Lucky Egg",
    "Speed Potion",
    "Damage Potion",
    "Lucky Potion",
    "Banana Gun",
    "Frost Grenade",
    "Carrot Launcher",
    "Water Bucket",
    "Frost Blower",
}

-- สร้าง Toggle สำหรับแต่ละไอเท็ม
for _, itemName in ipairs(shopItems) do
    autoBuyItems[itemName] = false -- ค่าเริ่มต้นปิด
    Tab:Toggle({
        Title = itemName,
        Desc = "Auto buy "..itemName,
        Value = false,
        Callback = function(v)
            autoBuyItems[itemName] = v
            print(itemName.." Auto Buy:", v)
        end
    })
end

-- Loop Auto Buy Sequential
task.spawn(function()
    while true do
        task.wait(0.1) -- เช็คทุก 0.1 วิ
        for itemName, isEnabled in pairs(autoBuyItems) do
            if isEnabled then
                local args = {
                    {itemName, " "}
                }
                -- พยายามยิง Server
                local success, err = pcall(function()
                    buyEvent:FireServer(unpack(args))
                end)
                if success then
                else
                end
                task.wait(1) -- รอ 1 วิ ก่อนซื้ออันถัดไป
            end
        end
    end
end)


-- Notification
Window:Notify({
    Title = "Auto Buy",
    Desc = "UI Loaded! Toggle the items you want to auto buy.",
    Time = 4
})
